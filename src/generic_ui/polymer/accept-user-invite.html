<link rel='import' href='../../bower/core-icons/core-icons.html'>
<link rel='import' href='../../bower/core-overlay/core-overlay.html'>
<link rel="import" href="../../bower/core-signals/core-signals.html">
<link rel='import' href='../../bower/paper-button/paper-button.html'>
<link rel='import' href='../../bower/paper-input/paper-input-decorator.html'>
<link rel='import' href='../../bower/polymer/polymer.html'>

<polymer-element name='uproxy-accept-user-invite'>
  <template>
    <style>
      #acceptUserInvitePanel {
        height: 100%;
        width: 100%;
        background-color: white;
      }
      div {
        text-align: center;
      }
      p {
        text-align: start;
      }
      .section {
        padding: 2em;
      }
      a {
        cursor: pointer;
      }
      paper-input-decorator, input {
        width: 100% !important;
        line-height: 20px;
      }
      paper-button {
        margin-top: 1em;
      }
    </style>
    <!-- TODO: localization -->

    <core-signals on-core-signal-open-accept-user-invite-dialog='{{ openAcceptUserInvitePanel }}'></core-signals>

    <core-overlay id='acceptUserInvitePanel'>
      <uproxy-app-bar on-go-back='{{ closeAcceptUserInvitePanel }}'>
        Use an invitation
      </uproxy-app-bar>

      <div class='section'>
        <p>If you've received an invitation from a friend you'd like to proxy with, enter it below.</p>

        <div id='addFriend'>
          <paper-input-decorator label="Paste invitation link">
            <input is='core-input' value='{{ receivedInviteToken }}'>
          </paper-input-decorator>
          <paper-button affirmative autofocus on-tap='{{ addUser }}'>Add Friend</paper-button>
        </div>
      </div>

      <div class='section'>
        If you would like to send an invitation to a friend, you can do so
        <a on-tap='{{ showInviteUser }}'>here</a>
      </div>

    </core-overlay>
  </template>
  <script src='accept-user-invite.js'></script>
</polymer-element>
