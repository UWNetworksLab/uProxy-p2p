// Primary stylesheet for both popup and options page.
// ----------------------------- Common Style ----------------------------------

// This is a mega css reset. Fixes evil padding - width css shenanigans.
*
  box-sizing: border-box
  -webkit-box-sizing: border-box
  -moz-box-sizing: border-box
  &:focus
    outline: none

$fontSize: 16px
@font-face
  font-family: 'Eurostile'
  src: url('eurostile.ttf') format('truetype')

@mixin smooth
  -webkit-transition: all 0.23s !important
  -moz-transition: all 0.23s !important
  -o-transition: all 0.23s !important
  transition: all 0.23s !important
@mixin smooth-slow
  -webkit-transition: all 0.5s !important
  -moz-transition: all 0.5s !important
  -o-transition: all 0.5s !important
  transition: all 0.5s !important

// Custom hidden behavior
@mixin un-ng-hide
  display: block !important
  pointer-events: none

body
  font-family: Eurostile, sans-serif
  height: 100%
  margin: 0
  padding: 0
  overflow: hidden
  font-size: $fontSize

h1, h2, h3, h4, h5
  margin: 0
  padding: 0
ul
  list-style: none
  padding: 0

// Prettier scrollbars.
::-webkit-scrollbar
  width: 6px
  &:hover
    width: 10px
::-webkit-scrollbar-track
  background-color: #f9f9f9
  &:window-inactive
    background-color: #888
::-webkit-scrollbar-thumb
  background-color: #aaa
  height: 114.589px
  &:hover
    background-color: #bbb

.btn
  border: 1px solid #ccc
  color: #333
  background: #fff
  border-radius: 2px
  cursor: pointer
  @include smooth
  &:hover, &:focus
    border-color: #999
    box-shadow: 0 1px 3px #aaa
    outline: none
  &:active
    box-shadow: 0 1px 3px #aaa inset
    color: #777
  &:disabled
    color: #999
    border-color: #ccc
    box-shadow: 0 1px 2px #bbb inset

.btn-request
  position: absolute
  right: 0

.btn-back
  background: transparent url('../icons/back_arrow.png') no-repeat center
  border: none
  height: 24px
  width: 30px

.btn-back:hover, .btn-back:focus
  opacity: 0.5
  outline: none
  cursor: pointer

#header
  // height: 64px

.title
  padding: 0 8px

#contact-header
  position: fixed
  z-index: 500
  top: 0
  & h1
    position: fixed
    width: 100%
    padding: 0 50px
    text-align: center
    top: 10px
    pointer-events: none
    white-space: nowrap
    font-size: $fontSize * 1.1
    font-weight: 100
    letter-spacing: 1px

// A tip is a helpful bit of text which shows up when you have focus upon a
// particular input element.
.tip
  display: inline-block
  margin: 0
  padding: 6px 8px
  max-width: 270px
  background-color: #fcfcfc
  font-size: $fontSize * 0.9
  color: #444
  border: 1px solid #eee
  text-align: left
  cursor: default
  opacity: 0.9
  @include smooth
  &.ng-hide
    @include un-ng-hide
    opacity: 0

// For centering the tooltip.
.tool
  position: absolute
  display: block
  width: 100%
  text-align: center

.app-missing-warning
  padding: 6px 8px
  color: #900

#filterTooltip
  position: fixed
  z-index: 50
  top: 30px
  opacity: 0.85
  font-size: $fontSize * 0.9
  pointer-events: none
  @include smooth
  &.ng-hide
    @include un-ng-hide
    opacity: 0

#filterTooltip .tip
  background-color: #000
  color: #ccc

#not-connected
  text-align: center
  padding: 16px

//---------------------------- Login Splash -----------------------------------
#login-splash
  position: fixed
  text-align: center
  padding-top: 30px
  width: 100%
  height: 600px
  bottom: 0
  z-index: 40
  background-color: #fff
  @include smooth-slow
  &.ng-hide
    @include un-ng-hide
    top: 600px

.network-btn
  display: inline-block
  margin: 8px
  & .btn
    font-size: $fontSize * 1.5

.uproxy-banner
  font-size: $fontSize * 2
  font-weight: 600
  text-shadow: 2px 2px 2px #888
  cursor: default
  & img
    vertical-align: middle
    margin-bottom: 23px

.description
  color: #222
  text-shadow: 1px 2px 2px #aaa
  cursor: default

#my-description
  margin-top: 20px
  padding: 8px
  width: 80%
  color: #333
  border: 1px solid #ddd
  outline: none
  box-shadow: 0 3px 1px #eee
  @include smooth

  &:hover
    box-shadow: 0px 3px 3px #ddd
    border-color: #bbb

// Selection of your social network connections.
#networks-box
  margin-top: 30px

// --------------------------- Search / Filters --------------------------------
// Goes at the top of the popup roster view.
#roster-header
  position: relative
  z-index: 50
  &.ng-hide
    @include un-ng-hide
    opacity: 0
    z-index: -100

// Contains a bunch of icons which modify the view / toggle filters.
#actions
  display: block
  position: relative
  z-index: 30
  width: 100%
  background-color: #fafafa
  height: 30px
  text-align: left
  overflow: hidden
  padding: 0
  box-shadow: 0 1px 2px #aaa
  @include smooth
  &:hover
    box-shadow: 0 1px 6px #aaa

#search-contacts
  display: block
  position: relative
  z-index: 20
  width: 370px
  height: 34px
  margin: 0
  padding: 8px 20px
  border: 1px solid #bbb
  outline: none
  color: #333
  @include smooth
  &:hover
    box-shadow: 0 1px 2px #ddd inset
  &:focus
    outline: none
    box-shadow: 0 1px 2px #ccc
  &.ng-hide
    @include un-ng-hide
    margin-top: -34px
    z-index: -1
    opacity: 0

// The search button toggles the actual textfield.
#search-btn
  position: relative
  z-index: 40
  width: 50px
  height: 16px
  padding: 8px
  border: none
  background: transparent url('../icons/search.png') no-repeat center
  background-size: 16px
  cursor: pointer
  @include smooth
  &:hover, &:focus
    opacity: 0.5
    outline: none

.filter
  margin: 0
  padding: 8px
  height: 16px
  width: 40px
  border: none
  line-height: 0
  background: transparent no-repeat center
  background-size: 16px !important
  font-size: $fontSize * 1.5
  font-weight: 900
  color: #222
  opacity: 0.3
  cursor: pointer
  @include smooth
  &:active, &:focus
    outline: none
    opacity: 0.25
  &:hover
    opacity: 0.2
  // When the filter is on, the opacity changes are different.
  &.on
    opacity: 1.0
    &:active, &:focus
      outline: none
      opacity: 0.65
    &:hover
      opacity: 0.6

#my-access
  background-image: url('../icons/arrow-up.png')
#friends-access
  background-image: url('../icons/arrow-down.png')
#uproxy-filter
  background-image: url('../icons/uproxy-19.png')
#online-filter
  background-image: url('../icons/online.png')

.icon-btn
  z-index: 40
  width: 42px
  height: 24px
  padding: 8px
  margin-bottom: 5px
  border: none
  vertical-align: middle
  background: transparent no-repeat center
  background-size: 24px !important
  cursor: pointer
  outline: none
  padding: 0
  &:active, &:focus
    opacity: 0.8
  &:hover
    opacity: 0.7

#options-btn
  position: fixed
  z-index: 400
  top: 4px
  right: 8px
  background: transparent url('../icons/settings.svg') no-repeat center center
  border: none
  outline: none
  padding: 4px
  width: 20px
  height: 20px
  text-decoration: none
  opacity: 0.6
  cursor: pointer
  @include smooth
  &:active, &:focus
    opacity: 0.4
  &:hover
    opacity: 0.3

#options-btn-tip
  position: fixed
  z-index: 500
  top: 30px
  right: 2px
  background-color: #000
  color: #ccc
  opacity: 0.85
  &.ng-hide
    opacity: 0

#start-btn
  background-image: url('../icons/uproxy-19.png')
#stop-btn
  background-image: url('../icons/stop.png')

// --------------------------- Primary view ------------------------------------
#main-view
  z-index: 100
  @include smooth-slow
  &.ng-hide
    @include un-ng-hide
    opacity: 0

// --------------------------- Roster & Contacts -------------------------------
#roster
  width: 100%
  outline: none
  @include smooth

#roster-text
  position: absolute
  text-align: center
  top: 100px
  width: 100%
  padding: 10%
  z-index: 500
  color: #444
  text-shadow: 0 2px 2px #ccc
  pointer-events: none

#roster-frame
  position: relative
  min-height: 520px
  white-space: nowrap
  overflow-y: auto
  overflow-x: hidden
  border-top: 1px solid #eee
  @include smooth
  &.ng-hide
    @include un-ng-hide
    left: -400px

.contacts
  position: absolute
  background-color: #fafafa
  width: 100%
  min-height: 100%
  margin: 0
  padding: 0
  @include smooth

.contacts li
  position: relative
  z-index: 0
  height: 30px
  cursor: default
  padding: 6px 37px
  white-space: nowrap
  overflow: hidden
  border: 1px solid transparent
  border-left: none
  border-right: none
  color: #222
  font-weight: 300
  text-shadow: 2px 2px 2px #ccc
  @include smooth

  &:hover, &:focus
    background-color: #fff
    border-color: #ddd
    color: #000
    z-index: 50
    top: -2px
    box-shadow: 0 2px 6px 1px #ddd
    outline: none

  &.ng-hide

  &.offline
    color: #888

img.contact-image
  position: absolute
  left: 1px
  top: 1px
  height: 100%
  width: 25px
  background: transparent url('../icons/contact-default.png') no-repeat center
  background-size: cover

.c-icons
  position: absolute
  right: 12px
  color: #555
  font-size: $fontSize * 0.8
  font-weight: 900
.c-icon
  display: inline-block
  padding: 1px
  width: 18px
  height: 16px
  line-height: 16px
  text-align: center
  vertical-align: middle
  background: transparent no-repeat center
  background-size: 14px !important
  @include smooth
  &.canUProxy
    background-image: url('../icons/uproxy-19.png')
  &.givesMe
    background-image: url('../icons/arrow-up.png')
  &.usesMe
    background-image: url('../icons/arrow-down.png')
    &.active
      background-color: #fff
      background-image: url('../icons/arrow-down-animate.gif')
      border: 1px dotted #ddd
      border-left: none
      border-right: none
  &.grey
    opacity: 0.3
  &:hover
    opacity: 0.9


// Red ! shows up on the corner of contacts who have had a change.
.c-notification
  position: absolute
  right: 0
  bottom: 0
  background-color: #800
  color: #fff
  font-size: $fontSize * 0.6
  font-weight: 900
  width: 12px
  height: 12px
  line-height: 14px
  text-align: center
  opacity: 0.7

img.c-icon
  vertical-align: middle
  margin-top: -4px
  &:hover
    opacity: 0.5

// ------------------------------ Access View ----------------------------------
// This is the view which slides in from the right, when you click on a
// roster entry.
#access
  display: inline-block
  position: fixed
  width: 100%
  height: 100%
  padding-top: 40px
  top: 0
  left: 0
  @include smooth
  &.ng-hide
    display: inline-block !important
    opacity: 0
    left: 400px
  & img.contact-image
    position: relative
    width: 110px
    height: 110px
    border-color: #ddd
    background-size: contain
    box-shadow: 2px 3px 7px #bbb

.bg-deco
  position: fixed
  top: 0
  width: 100%
  height: 100%
  background: transparent no-repeat center
  pointer-events: none
  opacity: 0.2
  &#internets
    background-image: url('../icons/global_internet.png')
    background-size: 180px
  &#path-left
    background-image: url('../icons/path-left.png')
    opacity: 0.02
  &#path-right
    background-image: url('../icons/path-right.png')
    opacity: 0.02

.contact-info
  text-align: center
  text-shadow: 0px 1px 1px #ccc
  width: 100%
  &#my-info
    position: absolute
    bottom: 50px

.contact-name
  text-align: center

.detail-panel
  position: fixed
  bottom: 64px
  width: 100%
  text-align: center

.instance-btn
  display: inline-block
  background: transparent no-repeat center center
  background-size: 24px
  border: none
  width: 32px
  height: 32px
  padding: 4px
  margin: 0 16px
  vertical-align: middle
  outline: none
  text-decoration: none
  cursor: pointer
  font-size: $fontSize * 0.5
  opacity: 0.9
  @include smooth
  &:active, &:focus
    opacity: 0.4
  &:hover
    opacity: 0.3

// View toggles on the bottom of the contact view.
#uproxy-btn
  background-image: url('../icons/uproxy-128.png')
  outline: none
  text-decoration: none
  cursor: pointer

.chat-btn
  background-image: url('../icons/chat.png')

// Contains the actual trust & action buttons
.uproxy-box
  position: absolute
  display: inline-block
  background: no-repeat center
  height: 100px
  width: 148px
  white-space: nowrap
  & .uproxytip
    position: absolute
    width: 100%
    text-align: center
    color: #888
  &.proxy
    left: 0
    top: 150px
    background-image: url('../icons/arrow-up.png')
    background-position-y: top
    padding-top: 12px
    & .uproxytip
      bottom: 0
  &.client
    right: 0
    background-image: url('../icons/arrow-down.png')
    background-position-y: bottom
    width: 158px
    & .uproxytip
      top: 0
    &.active
      background-image: url('../icons/arrow-down-animate.gif')
    & .btn
      margin-top: 47px

.instance-actions
  text-align: center
  font-size: $fontSize * 0.8
  position: absolute
  top: 130px
  width: 100%
  & .btn
    padding: 6px 12px
    margin-top: 16px
    text-shadow: 0 1px 1px #888
    border-radius: 3px
    font-size: 11px
    opacity: 0.9

.client-details
  position: relative
  display: block
  padding: 8px
  margin: 8px
  border: 1px solid #eee
  font-size: $fontSize * 0.75
  font-family: monospace
  @include smooth
  &:hover
    border-color: #ddd
    top: -2px
    box-shadow: 0 2px 6px 1px #ddd

.instance-details
  position: relative
  display: block
  padding: 8px
  margin: 2px
  height: 53px
  width: 82%
  border: 1px solid #eee
  font-size: $fontSize * 0.5
  font-family: monospace
  @include smooth
  &:hover
    border-color: #ddd
    top: -2px
    box-shadow: 0 2px 6px 1px #ddd

.instance-id
  font-size: $fontSize * 0.6
  font-family: monospace

#status
  position: fixed
  z-index: 50
  bottom: 0
  width: 100%
  font-size: $fontSize * 0.8
  color: #888
  padding: 8px 20px
  cursor: default
  border-top: 1px solid #eee
  background-color: #fff
  text-align: center

#status-proxy
  padding-bottom: 12px
  margin-bottom: 16px
  border-bottom: 1px solid #eee
  color: #333
  text-align: left
  @include smooth-slow
  &.ng-hide
    @include un-ng-hide
    opacity: 0
    height: 0

#status-tooltips
  position: absolute
  left: 20px
  bottom: 67px
  text-align: left !important
#status-tooltips .tip
  position: absolute

#status-network
  position: absolute
  right: 0
  bottom: 0
  padding: 8px


.contact-actions
  display: none

#popup
  width: 370.8204px
  height: 600px
  .footer
    text-align: right

.large-font
  font-size: $fontSize * 1.5

details
  & > summary
    cursor: pointer
    &:focus
      outline: none
  & > *:not(summary)
    margin-left: 10px

#options
  position: relative
  height: 100%

#options-left
  width: 50%

#debug
  position: fixed
  top: 0
  right: 0
  width: 50%
  height: 100%
  padding: 2%
  padding-bottom: 100px
  overflow-y: auto
  overflow-x: auto
  background-color: #000
  color: #aff
  pre
    font-size: $fontSize * .6
    margin-bottom: 100px
    width: 100%
    white-space: pre-wrap
  form[name=sendMsgForm]
    margin-bottom: 3px
  &.big
    width: 100%
  &:hover
    background-color: #0f0f0f
  @include smooth

.dbg
  position: fixed
  z-index: 500

#reset-box
  position: fixed
  bottom: 0

details.advanced
  margin-top: 15px
